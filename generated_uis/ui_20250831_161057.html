<!DOCTYPE html>
<html lang="en">
<head>
    <base target="_self">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finance Dashboard</title>
    <style>
        :root {
            --dark-blue: #0A1128;
            --primary-blue: #007bff; /* Brighter blue for accents */
            --light-blue: #1E3F66;
            --light-gray: #f0f2f5;
            --medium-gray: #d4d7dd;
            --dark-gray: #333;
            --text-color: #34495e;
            --white: #ffffff;
            --card-bg: #ffffff;
            --shadow-light: rgba(0, 0, 0, 0.05);
            --shadow-medium: rgba(0, 0, 0, 0.1);
            --success-green: #28a745;
            --warning-orange: #ffc107;
            --danger-red: #dc3545;
            --info-cyan: #17a2b8;

            /* Chart colors */
            --chart-color-1: #4285F4; /* Google Blue */
            --chart-color-2: #DB4437; /* Google Red */
            --chart-color-3: #F4B400; /* Google Yellow */
            --chart-color-4: #0F9D58; /* Google Green */
            --chart-color-5: #673AB7; /* Deep Purple */
            --chart-color-6: #FF5722; /* Deep Orange */
        }

        /* Base Styles */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: var(--text-color);
            background-color: var(--light-gray);
            line-height: 1.6;
            overflow: hidden; /* Prevent body scroll, main-content-wrapper will scroll */
            display: flex;
            min-height: 100vh;
        }

        /* Typography */
        h1, h2, h3, h4, h5, h6 {
            color: var(--dark-gray);
            margin-bottom: 0.5em;
        }

        h1 { font-size: 2.2em; }
        h2 { font-size: 1.8em; }
        h3 { font-size: 1.5em; }

        a {
            text-decoration: none;
            color: var(--primary-blue);
            transition: color 0.3s ease;
        }

        a:hover {
            color: var(--light-blue);
        }

        /* Layout */
        #app {
            display: flex;
            width: 100%;
            height: 100vh;
        }

        /* Sidebar */
        #sidebar {
            width: 250px;
            background-color: var(--dark-blue);
            color: var(--white);
            padding: 20px 0;
            display: flex;
            flex-direction: column;
            flex-shrink: 0;
            box-shadow: 2px 0 10px var(--shadow-medium);
            transition: width 0.3s ease, transform 0.3s ease;
            position: relative; /* For the toggle button */
            z-index: 1000; /* Ensure it's above other content */
        }

        #sidebar .logo {
            text-align: center;
            padding: 15px 20px;
            margin-bottom: 20px;
            font-size: 1.8em;
            font-weight: bold;
            color: var(--white);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        #sidebar nav ul {
            list-style: none;
            padding: 0;
        }

        #sidebar nav ul li a {
            display: flex;
            align-items: center;
            padding: 15px 20px;
            color: rgba(255, 255, 255, 0.8);
            font-size: 1.1em;
            transition: background-color 0.3s ease, color 0.3s ease, border-left 0.3s ease;
            border-left: 5px solid transparent;
        }

        #sidebar nav ul li a:hover,
        #sidebar nav ul li a.active {
            background-color: var(--light-blue);
            color: var(--white);
            border-left: 5px solid var(--primary-blue);
        }

        #sidebar nav ul li a i { /* Icon placeholder */
            margin-right: 10px;
            font-size: 1.2em;
        }
        /* Placeholder for icons, in a real app these would be Font Awesome or similar */
        #sidebar nav ul li a[href="#dashboard"] i::before { content: "üìä"; }
        #sidebar nav ul li a[href="#transactions"] i::before { content: "üí∏"; }
        #sidebar nav ul li a[href="#analytics"] i::before { content: "üìà"; }
        #sidebar nav ul li a[href="#settings"] i::before { content: "‚öôÔ∏è"; }
        #sidebar nav ul li a[href="#projects"] i::before { content: "üí°"; }
        #sidebar nav ul li a[href="#about"] i::before { content: "‚ÑπÔ∏è"; }
        #sidebar nav ul li a[href="#contact"] i::before { content: "üìß"; }


        /* Main Content Wrapper */
        #main-content-wrapper {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            overflow-y: auto; /* Scrollable main content */
            background-color: var(--light-gray);
        }

        /* Top Header */
        #top-header {
            background-color: var(--white);
            padding: 15px 30px;
            box-shadow: 0 2px 5px var(--shadow-light);
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 999;
            flex-shrink: 0;
        }

        #top-header .company-name {
            font-size: 1.6em;
            font-weight: bold;
            color: var(--dark-blue);
        }

        #top-header .user-profile {
            display: flex;
            align-items: center;
            cursor: pointer;
            position: relative;
        }

        #top-header .user-profile img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 10px;
            border: 2px solid var(--primary-blue);
            object-fit: cover;
        }

        #top-header .user-profile span {
            font-weight: 500;
            color: var(--text-color);
        }

        /* Main Page Content */
        #page-content {
            padding: 20px 30px;
            flex-grow: 1;
        }

        .content-section {
            display: none;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }

        .content-section.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        /* Dashboard Section Specifics */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .dashboard-card {
            background-color: var(--card-bg);
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 4px 15px var(--shadow-light);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            transition: transform 0.3s ease;
        }

        .dashboard-card:hover {
            transform: translateY(-5px);
        }

        .dashboard-card h3 {
            margin-bottom: 10px;
            color: var(--dark-blue);
            font-size: 1.3em;
        }

        .dashboard-card .value {
            font-size: 2.2em;
            font-weight: bold;
            color: var(--primary-blue);
            margin-bottom: 10px;
        }

        .dashboard-card .description {
            font-size: 0.9em;
            color: var(--text-color);
        }

        .chart-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .chart-container {
            background-color: var(--card-bg);
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 4px 15px var(--shadow-light);
        }

        .chart-container h3 {
            margin-bottom: 15px;
            color: var(--dark-blue);
        }

        canvas {
            max-width: 100%;
            height: auto;
            display: block; /* Remove extra space below canvas */
        }

        /* Transactions Section */
        .transactions-table {
            width: 100%;
            border-collapse: collapse;
            background-color: var(--card-bg);
            border-radius: 8px;
            overflow: hidden; /* For rounded corners with border-collapse */
            box-shadow: 0 4px 15px var(--shadow-light);
            margin-top: 20px;
        }

        .transactions-table th,
        .transactions-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid var(--medium-gray);
        }

        .transactions-table th {
            background-color: var(--primary-blue);
            color: var(--white);
            font-weight: 600;
        }

        .transactions-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        .transactions-table tr:hover {
            background-color: #f0f0f0;
        }

        .status-badge {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
        }

        .status-badge.completed { background-color: #e6ffed; color: var(--success-green); }
        .status-badge.pending { background-color: #fff3cd; color: var(--warning-orange); }
        .status-badge.failed { background-color: #f8d7da; color: var(--danger-red); }

        /* Projects Showcase */
        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 20px;
        }

        .project-card {
            background-color: var(--card-bg);
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 4px 15px var(--shadow-light);
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
        }

        .project-card:hover {
            transform: translateY(-5px);
        }

        .project-card h3 {
            color: var(--dark-blue);
            margin-bottom: 10px;
        }

        .project-card p {
            font-size: 0.95em;
            color: var(--text-color);
            flex-grow: 1;
            margin-bottom: 15px;
        }

        .project-card .progress-bar {
            background-color: var(--medium-gray);
            height: 8px;
            border-radius: 4px;
            margin-bottom: 10px;
            overflow: hidden;
        }

        .project-card .progress-bar-fill {
            height: 100%;
            background-color: var(--primary-blue);
            width: 0%; /* Will be set by JS or inline style */
            border-radius: 4px;
            transition: width 0.6s ease-out;
        }

        .project-card .progress-text {
            font-size: 0.9em;
            color: var(--text-color);
            text-align: right;
            font-weight: 500;
        }


        /* Forms (Settings, Contact) */
        .form-container {
            background-color: var(--card-bg);
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 15px var(--shadow-light);
            max-width: 600px;
            margin: 20px auto;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark-gray);
        }

        .form-group input[type="text"],
        .form-group input[type="email"],
        .form-group input[type="password"],
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--medium-gray);
            border-radius: 5px;
            font-size: 1em;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }

        .form-group input[type="text"]:focus,
        .form-group input[type="email"]:focus,
        .form-group input[type="password"]:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.25);
            outline: none;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .button {
            display: inline-block;
            padding: 12px 25px;
            border-radius: 5px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            border: none;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }

        .button-primary {
            background-color: var(--primary-blue);
            color: var(--white);
        }

        .button-primary:hover {
            background-color: #0056b3; /* Darker primary blue */
            transform: translateY(-2px);
        }

        .feedback-message {
            margin-top: 20px;
            padding: 15px;
            border-radius: 5px;
            text-align: center;
            font-weight: 600;
            display: none;
        }
        .feedback-message.success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        /* Responsive Design */
        .mobile-menu-toggle {
            display: none; /* Hidden by default */
            position: fixed;
            top: 15px;
            left: 15px;
            background-color: var(--primary-blue);
            color: var(--white);
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            font-size: 1.5em;
            cursor: pointer;
            z-index: 1001; /* Above sidebar */
            box-shadow: 0 2px 5px var(--shadow-medium);
        }

        @media (max-width: 992px) {
            #sidebar {
                width: 200px;
            }
            #top-header {
                padding: 15px 20px;
            }
            #page-content {
                padding: 20px;
            }
            .dashboard-card, .chart-container, .project-card {
                padding: 20px;
            }
            .dashboard-card .value {
                font-size: 1.8em;
            }
            h1 { font-size: 2em; }
            h2 { font-size: 1.6em; }
            h3 { font-size: 1.3em; }
        }

        @media (max-width: 768px) {
            .mobile-menu-toggle {
                display: block; /* Show toggle button on small screens */
            }

            #sidebar {
                position: fixed;
                top: 0;
                left: 0;
                height: 100%;
                transform: translateX(-100%); /* Hidden by default */
                box-shadow: none; /* Remove shadow when hidden */
            }

            #sidebar.active {
                transform: translateX(0); /* Show sidebar */
                box-shadow: 2px 0 10px var(--shadow-medium); /* Add shadow when active */
            }

            #main-content-wrapper {
                margin-left: 0; /* No fixed margin */
                width: 100%;
                transition: margin-left 0.3s ease;
            }

            #top-header {
                padding-left: 70px; /* Make space for the menu button */
            }

            .dashboard-grid, .chart-grid, .projects-grid {
                grid-template-columns: 1fr; /* Single column layout */
            }

            .dashboard-card {
                text-align: center;
            }
        }

        @media (max-width: 480px) {
            #top-header .company-name {
                font-size: 1.4em;
            }
            #top-header .user-profile span {
                display: none; /* Hide user name on very small screens */
            }
            #top-header .user-profile img {
                margin-right: 0;
            }
            #page-content {
                padding: 15px;
            }
            .form-container {
                padding: 20px;
                margin: 15px auto;
            }
            .transactions-table th, .transactions-table td {
                padding: 10px;
                font-size: 0.9em;
            }
            .status-badge {
                padding: 3px 8px;
                font-size: 0.8em;
            }
        }
    </style>
</head>
<body>
    <button class="mobile-menu-toggle" aria-label="Toggle Menu">‚ò∞</button>

    <div id="app">
        <aside id="sidebar">
            <div class="logo">FinDash</div>
            <nav>
                <ul>
                    <li><a href="#dashboard" class="nav-link active" data-section="dashboard"><i class="icon"></i> Dashboard</a></li>
                    <li><a href="#transactions" class="nav-link" data-section="transactions"><i class="icon"></i> Transactions</a></li>
                    <li><a href="#analytics" class="nav-link" data-section="analytics"><i class="icon"></i> Analytics</a></li>
                    <li><a href="#settings" class="nav-link" data-section="settings"><i class="icon"></i> Settings</a></li>
                    <li style="margin-top: 20px;"><hr style="border-color: rgba(255,255,255,0.1);"></li>
                    <li><a href="#projects" class="nav-link" data-section="projects"><i class="icon"></i> Projects Showcase</a></li>
                    <li><a href="#about" class="nav-link" data-section="about"><i class="icon"></i> About Us</a></li>
                    <li><a href="#contact" class="nav-link" data-section="contact"><i class="icon"></i> Contact</a></li>
                </ul>
            </nav>
        </aside>

        <div id="main-content-wrapper">
            <header id="top-header">
                <div class="company-name">Finance Dashboard</div>
                <div class="user-profile">
                    <img src="https://via.placeholder.com/40/007bff/FFFFFF?text=JP" alt="User Avatar">
                    <span>John Doe</span>
                </div>
            </header>

            <main id="page-content">
                <!-- Dashboard Section -->
                <section id="dashboard" class="content-section active">
                    <h2>Dashboard Overview</h2>
                    <div class="dashboard-grid">
                        <div class="dashboard-card">
                            <h3>Total Revenue</h3>
                            <div class="value">$1,234,567</div>
                            <div class="description">Up 12% from last month</div>
                        </div>
                        <div class="dashboard-card">
                            <h3>Total Expenses</h3>
                            <div class="value">$789,012</div>
                            <div class="description">Down 5% from last month</div>
                        </div>
                        <div class="dashboard-card">
                            <h3>Net Profit</h3>
                            <div class="value">$445,555</div>
                            <div class="description">Up 18% from last month</div>
                        </div>
                        <div class="dashboard-card">
                            <h3>Active Projects</h3>
                            <div class="value">15</div>
                            <div class="description">2 new projects this quarter</div>
                        </div>
                    </div>

                    <div class="chart-grid">
                        <div class="chart-container">
                            <h3>Revenue Trends</h3>
                            <canvas id="revenueLineChart"></canvas>
                        </div>
                        <div class="chart-container">
                            <h3>Monthly Expenses</h3>
                            <canvas id="expensesBarChart"></canvas>
                        </div>
                        <div class="chart-container">
                            <h3>Portfolio Distribution</h3>
                            <canvas id="portfolioPieChart"></canvas>
                        </div>
                    </div>
                </section>

                <!-- Transactions Section -->
                <section id="transactions" class="content-section">
                    <h2>Recent Transactions</h2>
                    <table class="transactions-table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Description</th>
                                <th>Amount</th>
                                <th>Category</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>2023-10-26</td>
                                <td>Software Subscription</td>
                                <td>-$199.00</td>
                                <td>Utilities</td>
                                <td><span class="status-badge completed">Completed</span></td>
                            </tr>
                            <tr>
                                <td>2023-10-25</td>
                                <td>Client Payment - Alpha Corp</td>
                                <td>+$12,500.00</td>
                                <td>Income</td>
                                <td><span class="status-badge completed">Completed</span></td>
                            </tr>
                            <tr>
                                <td>2023-10-24</td>
                                <td>Office Supplies</td>
                                <td>-$85.50</td>
                                <td>Office</td>
                                <td><span class="status-badge completed">Completed</span></td>
                            </tr>
                            <tr>
                                <td>2023-10-23</td>
                                <td>Server Maintenance</td>
                                <td>-$450.00</td>
                                <td>IT Services</td>
                                <td><span class="status-badge pending">Pending</span></td>
                            </tr>
                            <tr>
                                <td>2023-10-22</td>
                                <td>Marketing Campaign</td>
                                <td>-$1,200.00</td>
                                <td>Marketing</td>
                                <td><span class="status-badge completed">Completed</span></td>
                            </tr>
                            <tr>
                                <td>2023-10-21</td>
                                <td>Dividend Payout</td>
                                <td>+$350.75</td>
                                <td>Investment</td>
                                <td><span class="status-badge completed">Completed</span></td>
                            </tr>
                        </tbody>
                    </table>
                </section>

                <!-- Analytics Section -->
                <section id="analytics" class="content-section">
                    <h2>Financial Analytics</h2>
                    <p>Dive deep into your financial data. Here you can find detailed reports and insights.</p>
                    <div class="chart-grid" style="grid-template-columns: 1fr;">
                        <div class="chart-container">
                            <h3>Profit Margin Trends</h3>
                            <canvas id="profitMarginLineChart"></canvas>
                        </div>
                    </div>
                    <div style="margin-top: 25px;">
                        <p><strong>Key Metrics:</strong></p>
                        <ul>
                            <li>Gross Profit Margin: 45%</li>
                            <li>Operating Profit Margin: 35%</li>
                            <li>Net Profit Margin: 28%</li>
                            <li>Return on Investment (ROI): 15%</li>
                        </ul>
                    </div>
                </section>

                <!-- Settings Section -->
                <section id="settings" class="content-section">
                    <h2>Account Settings</h2>
                    <div class="form-container">
                        <form id="settingsForm">
                            <div class="form-group">
                                <label for="username">Username</label>
                                <input type="text" id="username" value="john.doe" readonly>
                            </div>
                            <div class="form-group">
                                <label for="email">Email Address</label>
                                <input type="email" id="email" value="john.doe@example.com">
                            </div>
                            <div class="form-group">
                                <label for="password">Change Password</label>
                                <input type="password" id="password" placeholder="Leave blank to keep current password">
                            </div>
                            <div class="form-group">
                                <label for="currency">Preferred Currency</label>
                                <select id="currency">
                                    <option value="USD" selected>USD - US Dollar</option>
                                    <option value="EUR">EUR - Euro</option>
                                    <option value="GBP">GBP - British Pound</option>
                                    <option value="JPY">JPY - Japanese Yen</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="notifications">Email Notifications</label>
                                <input type="checkbox" id="notifications" checked> Receive important updates
                            </div>
                            <button type="submit" class="button button-primary">Save Changes</button>
                            <div id="settingsFeedback" class="feedback-message"></div>
                        </form>
                    </div>
                </section>

                <!-- Projects Showcase Section -->
                <section id="projects" class="content-section">
                    <h2>Our Financial Projects</h2>
                    <p>Explore some of our key financial initiatives and their progress.</p>
                    <div class="projects-grid">
                        <div class="project-card">
                            <h3>Digital Wallet Integration</h3>
                            <p>Developing a secure and user-friendly digital wallet system for seamless transactions and financial management.</p>
                            <div class="progress-bar">
                                <div class="progress-bar-fill" style="width: 85%; background-color: var(--success-green);"></div>
                            </div>
                            <div class="progress-text">85% Completed</div>
                        </div>
                        <div class="project-card">
                            <h3>AI-Powered Investment Advisor</h3>
                            <p>Building an artificial intelligence platform to provide personalized investment recommendations and market insights.</p>
                            <div class="progress-bar">
                                <div class="progress-bar-fill" style="width: 60%; background-color: var(--warning-orange);"></div>
                            </div>
                            <div class="progress-text">60% Completed</div>
                        </div>
                        <div class="project-card">
                            <h3>Cryptocurrency Portfolio Tracker</h3>
                            <p>A new tool designed to help users track their cryptocurrency investments, monitor market changes, and manage risks.</p>
                            <div class="progress-bar">
                                <div class="progress-bar-fill" style="width: 30%; background-color: var(--info-cyan);"></div>
                            </div>
                            <div class="progress-text">30% Completed</div>
                        </div>
                        <div class="project-card">
                            <h3>Sustainable Finance Fund</h3>
                            <p>Launching a new investment fund focused on environmentally and socially responsible companies.</p>
                            <div class="progress-bar">
                                <div class="progress-bar-fill" style="width: 95%; background-color: var(--success-green);"></div>
                            </div>
                            <div class="progress-text">95% Completed</div>
                        </div>
                    </div>
                </section>

                <!-- About Us Section -->
                <section id="about" class="content-section">
                    <h2>About FinDash</h2>
                    <div class="form-container" style="max-width: 800px;">
                        <p>FinDash is a leading financial technology company dedicated to providing innovative and user-friendly solutions for personal and business finance management. Our mission is to empower individuals and organizations to achieve their financial goals through intelligent tools, insightful analytics, and secure platforms.</p>
                        <p>Founded in 2020, we have grown rapidly, driven by a passion for financial clarity and technological excellence. Our team comprises seasoned finance professionals, brilliant software engineers, and creative designers, all working together to redefine how you interact with your money.</p>
                        <h3>Our Vision</h3>
                        <p>To be the most trusted and intuitive finance dashboard globally, making complex financial data accessible and actionable for everyone.</p>
                        <h3>Our Values</h3>
                        <ul>
                            <li><strong>Innovation:</strong> Continuously seeking new and better ways to serve our users.</li>
                            <li><strong>Security:</strong> Protecting your financial data with the highest standards of encryption and privacy.</li>
                            <li><strong>Transparency:</strong> Providing clear and understandable insights into your finances.</li>
                            <li><strong>User-Centricity:</strong> Designing solutions that truly meet the needs and desires of our community.</li>
                        </ul>
                    </div>
                </section>

                <!-- Contact Section -->
                <section id="contact" class="content-section">
                    <h2>Contact Us</h2>
                    <div class="form-container">
                        <p>Have questions, feedback, or need support? Reach out to us using the form below, and our team will get back to you promptly.</p>
                        <form id="contactForm">
                            <div class="form-group">
                                <label for="contactName">Your Name</label>
                                <input type="text" id="contactName" placeholder="Enter your name" required>
                            </div>
                            <div class="form-group">
                                <label for="contactEmail">Your Email</label>
                                <input type="email" id="contactEmail" placeholder="Enter your email" required>
                            </div>
                            <div class="form-group">
                                <label for="contactSubject">Subject</label>
                                <input type="text" id="contactSubject" placeholder="Subject of your inquiry" required>
                            </div>
                            <div class="form-group">
                                <label for="contactMessage">Message</label>
                                <textarea id="contactMessage" placeholder="Your message" required></textarea>
                            </div>
                            <button type="submit" class="button button-primary">Send Message</button>
                            <div id="contactFeedback" class="feedback-message"></div>
                        </form>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const navLinks = document.querySelectorAll('.nav-link');
            const contentSections = document.querySelectorAll('.content-section');
            const mobileMenuToggle = document.querySelector('.mobile-menu-toggle');
            const sidebar = document.getElementById('sidebar');

            // --- Navigation Logic ---
            function showSection(sectionId) {
                // Remove active from all sections and nav links
                contentSections.forEach(section => section.classList.remove('active'));
                navLinks.forEach(link => link.classList.remove('active'));

                // Add active to the target section
                const targetSection = document.getElementById(sectionId);
                if (targetSection) {
                    targetSection.classList.add('active');
                }

                // Add active to the corresponding nav link
                const activeNavLink = document.querySelector(`.nav-link[data-section="${sectionId}"]`);
                if (activeNavLink) {
                    activeNavLink.classList.add('active');
                }

                // Hide sidebar on mobile after selection
                if (window.innerWidth <= 768) {
                    sidebar.classList.remove('active');
                }

                // Re-render charts for the newly active section if they exist
                if (sectionId === 'dashboard') {
                    renderCharts();
                } else if (sectionId === 'analytics') {
                    renderProfitMarginLineChart();
                }
            }

            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const sectionId = link.getAttribute('data-section');
                    window.location.hash = sectionId; // Update URL hash
                    showSection(sectionId);
                });
            });

            // Handle initial load and hash changes
            function handleHashChange() {
                const hash = window.location.hash.substring(1); // Remove '#'
                if (hash && document.getElementById(hash)) {
                    showSection(hash);
                } else {
                    showSection('dashboard'); // Default to dashboard
                    window.location.hash = 'dashboard';
                }
            }

            window.addEventListener('hashchange', handleHashChange);
            handleHashChange(); // Call on initial load

            // --- Mobile Menu Toggle ---
            mobileMenuToggle.addEventListener('click', () => {
                sidebar.classList.toggle('active');
            });

            // --- Chart Drawing Functions (Canvas) ---
            const chartColorsCssVars = [
                '--chart-color-1', '--chart-color-2', '--chart-color-3',
                '--chart-color-4', '--chart-color-5', '--chart-color-6'
            ];

            function getCssVariable(variable) {
                return getComputedStyle(document.documentElement).getPropertyValue(variable).trim();
            }

            // Function to draw a Line Chart
            function drawLineChart(canvasId, labels, data, title = '', lineColor = getCssVariable('--primary-blue')) {
                const canvas = document.getElementById(canvasId);
                if (!canvas) return;
                const ctx = canvas.getContext('2d');
                canvas.width = canvas.parentElement.clientWidth;
                canvas.height = 250; // Fixed height for charts

                ctx.clearRect(0, 0, canvas.width, canvas.height);

                const padding = 40;
                const chartWidth = canvas.width - 2 * padding;
                const chartHeight = canvas.height - 2 * padding;

                // Find max value for scaling
                const maxValue = Math.max(...data);
                const minValue = Math.min(...data);
                const yAxisBase = minValue > 0 ? minValue * 0.9 : 0; // Start Y-axis slightly below min value if positive
                const yRange = maxValue - yAxisBase;

                // Draw X-axis (labels)
                ctx.strokeStyle = getCssVariable('--medium-gray');
                ctx.lineWidth = 1;
                ctx.beginPath();
                ctx.moveTo(padding, canvas.height - padding);
                ctx.lineTo(canvas.width - padding, canvas.height - padding);
                ctx.stroke();

                ctx.fillStyle = getCssVariable('--text-color');
                ctx.font = '10px Arial';
                ctx.textAlign = 'center';
                labels.forEach((label, i) => {
                    const x = padding + i * (chartWidth / (labels.length - 1));
                    ctx.fillText(label, x, canvas.height - padding + 15);
                });

                // Draw Y-axis (labels and grid lines)
                ctx.beginPath();
                ctx.moveTo(padding, padding);
                ctx.lineTo(padding, canvas.height - padding);
                ctx.stroke();

                const numYLabels = 5;
                ctx.textAlign = 'right';
                for (let i = 0; i <= numYLabels; i++) {
                    const y = padding + (chartHeight / numYLabels) * i;
                    const value = maxValue - (y - padding) / chartHeight * yRange;
                    ctx.fillText(value.toFixed(0), padding - 10, y + 3);
                    
                    // Grid lines
                    if (i < numYLabels) { // Don't draw grid line over X-axis
                        ctx.beginPath();
                        ctx.strokeStyle = getCssVariable('--medium-gray');
                        ctx.lineWidth = 0.5;
                        ctx.moveTo(padding, y);
                        ctx.lineTo(canvas.width - padding, y);
                        ctx.stroke();
                    }
                }

                // Draw the line and points
                ctx.beginPath();
                ctx.strokeStyle = lineColor;
                ctx.lineWidth = 3;
                ctx.lineJoin = 'round';
                ctx.lineCap = 'round';

                data.forEach((value, i) => {
                    const x = padding + i * (chartWidth / (labels.length - 1));
                    const y = canvas.height - padding - ( (value - yAxisBase) / yRange ) * chartHeight;

                    if (i === 0) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                });
                ctx.stroke();

                // Draw points on top of the line
                data.forEach((value, i) => {
                    const x = padding + i * (chartWidth / (labels.length - 1));
                    const y = canvas.height - padding - ( (value - yAxisBase) / yRange ) * chartHeight;
                    ctx.beginPath();
                    ctx.arc(x, y, 4, 0, Math.PI * 2, true);
                    ctx.fillStyle = lineColor;
                    ctx.fill();
                    ctx.strokeStyle = getCssVariable('--white');
                    ctx.lineWidth = 2;
                    ctx.stroke();
                });

                // Chart title
                if (title) {
                    ctx.fillStyle = getCssVariable('--dark-gray');
                    ctx.font = '14px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText(title, canvas.width / 2, padding / 2 + 5);
                }
            }


            // Function to draw a Bar Chart
            function drawBarChart(canvasId, labels, data, barColor = getCssVariable('--primary-blue')) {
                const canvas = document.getElementById(canvasId);
                if (!canvas) return;
                const ctx = canvas.getContext('2d');
                canvas.width = canvas.parentElement.clientWidth;
                canvas.height = 250;

                ctx.clearRect(0, 0, canvas.width, canvas.height);

                const padding = 40;
                const chartWidth = canvas.width - 2 * padding;
                const chartHeight = canvas.height - 2 * padding;

                const maxValue = Math.max(...data);
                const yAxisBase = 0; // Bar charts typically start from 0
                const yRange = maxValue - yAxisBase;

                // Draw X-axis
                ctx.strokeStyle = getCssVariable('--medium-gray');
                ctx.lineWidth = 1;
                ctx.beginPath();
                ctx.moveTo(padding, canvas.height - padding);
                ctx.lineTo(canvas.width - padding, canvas.height - padding);
                ctx.stroke();

                // Draw Y-axis (labels and grid lines)
                ctx.beginPath();
                ctx.moveTo(padding, padding);
                ctx.lineTo(padding, canvas.height - padding);
                ctx.stroke();

                const numYLabels = 5;
                ctx.textAlign = 'right';
                for (let i = 0; i <= numYLabels; i++) {
                    const y = padding + (chartHeight / numYLabels) * i;
                    const value = maxValue - (y - padding) / chartHeight * yRange;
                    ctx.fillStyle = getCssVariable('--text-color');
                    ctx.font = '10px Arial';
                    ctx.fillText(value.toFixed(0), padding - 10, y + 3);
                    
                    // Grid lines
                    if (i < numYLabels) {
                        ctx.beginPath();
                        ctx.strokeStyle = getCssVariable('--medium-gray');
                        ctx.lineWidth = 0.5;
                        ctx.moveTo(padding, y);
                        ctx.lineTo(canvas.width - padding, y);
                        ctx.stroke();
                    }
                }

                // Draw bars
                const barWidth = chartWidth / (labels.length * 1.5); // Adjust for spacing
                const totalBarAndGapWidth = chartWidth - (labels.length * barWidth);
                const gap = labels.length > 1 ? totalBarAndGapWidth / (labels.length - 1) : 0;
                
                if (labels.length === 1) { // Center single bar
                    const startX = padding + (chartWidth - barWidth) / 2;
                    const barHeight = ( (data[0] - yAxisBase) / yRange ) * chartHeight;
                    const y = canvas.height - padding - barHeight;
                    ctx.fillStyle = barColor;
                    ctx.fillRect(startX, y, barWidth, barHeight);

                    ctx.fillStyle = getCssVariable('--text-color');
                    ctx.font = '10px Arial';
                    ctx.textAlign = 'center';
                    ctx.fillText(labels[0], startX + barWidth / 2, canvas.height - padding + 15);
                } else {
                    data.forEach((value, i) => {
                        const x = padding + i * (barWidth + gap);
                        const barHeight = ( (value - yAxisBase) / yRange ) * chartHeight;
                        const y = canvas.height - padding - barHeight;

                        ctx.fillStyle = barColor;
                        ctx.fillRect(x, y, barWidth, barHeight);

                        ctx.fillStyle = getCssVariable('--text-color');
                        ctx.font = '10px Arial';
                        ctx.textAlign = 'center';
                        ctx.fillText(labels[i], x + barWidth / 2, canvas.height - padding + 15);
                    });
                }
            }

            // Function to draw a Pie Chart
            function drawPieChart(canvasId, labels, data, colors) {
                const canvas = document.getElementById(canvasId);
                if (!canvas) return;
                const ctx = canvas.getContext('2d');
                canvas.width = canvas.parentElement.clientWidth;
                canvas.height = 250;

                ctx.clearRect(0, 0, canvas.width, canvas.height);

                const padding = 20;
                const chartAreaWidth = canvas.width - 2 * padding;
                const chartAreaHeight = canvas.height - 2 * padding;

                const centerX = chartAreaWidth * 0.35 + padding; // Shift center left to make space for legend
                const centerY = chartAreaHeight / 2 + padding;
                const radius = Math.min(centerX - padding, chartAreaHeight / 2) * 0.9;

                let total = data.reduce((sum, val) => sum + val, 0);
                let currentAngle = 0;

                ctx.font = '12px Arial';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';

                data.forEach((value, i) => {
                    const sliceAngle = (value / total) * 2 * Math.PI;

                    ctx.beginPath();
                    ctx.arc(centerX, centerY, radius, currentAngle, currentAngle + sliceAngle);
                    ctx.lineTo(centerX, centerY);
                    ctx.fillStyle = getCssVariable(colors[i % colors.length]);
                    ctx.fill();
                    ctx.strokeStyle = getCssVariable('--white');
                    ctx.lineWidth = 2;
                    ctx.stroke();

                    // Add text label
                    const midAngle = currentAngle + sliceAngle / 2;
                    const textX = centerX + Math.cos(midAngle) * (radius / 1.5);
                    const textY = centerY + Math.sin(midAngle) * (radius / 1.5);
                    const percentage = ((value / total) * 100).toFixed(1) + '%';

                    ctx.fillStyle = getCssVariable('--white'); // Text color
                    ctx.fillText(percentage, textX, textY);
                    
                    currentAngle += sliceAngle;
                });

                // Draw legend to the right
                const legendStartX = centerX + radius + 30; // Position legend to the right of the pie
                const legendItemHeight = 20;
                const legendItemSpacing = 5;
                
                ctx.textAlign = 'left';
                ctx.font = '12px Arial';

                labels.forEach((label, i) => {
                    const color = getCssVariable(colors[i % colors.length]);
                    const legendY = centerY - (labels.length / 2) * (legendItemHeight + legendItemSpacing) + i * (legendItemHeight + legendItemSpacing) + legendItemHeight / 2;
                    
                    ctx.fillStyle = color;
                    ctx.fillRect(legendStartX, legendY - 5, 10, 10); /* small square for color */
                    ctx.fillStyle = getCssVariable('--text-color');
                    ctx.fillText(label, legendStartX + 18, legendY);
                });
            }

            function renderCharts() {
                // Revenue Trends (Line Chart)
                const revenueLabels = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct'];
                const revenueData = [100000, 110000, 105000, 120000, 130000, 125000, 140000, 150000, 145000, 160000];
                drawLineChart('revenueLineChart', revenueLabels, revenueData);

                // Monthly Expenses (Bar Chart)
                const expensesLabels = ['Rent', 'Salaries', 'Marketing', 'Supplies', 'Utilities', 'Software'];
                const expensesData = [50000, 80000, 25000, 10000, 15000, 20000];
                drawBarChart('expensesBarChart', expensesLabels, expensesData, getCssVariable('--chart-color-2'));

                // Portfolio Distribution (Pie Chart)
                const portfolioLabels = ['Stocks', 'Bonds', 'Real Estate', 'Crypto', 'Cash'];
                const portfolioData = [40, 25, 20, 10, 5]; // Percentages
                const portfolioColors = chartColorsCssVars;
                drawPieChart('portfolioPieChart', portfolioLabels, portfolioData, portfolioColors);
            }

            function renderProfitMarginLineChart() {
                const profitLabels = ['Q1 2022', 'Q2 2022', 'Q3 2022', 'Q4 2022', 'Q1 2023', 'Q2 2023', 'Q3 2023', 'Q4 2023'];
                const profitData = [28, 30, 29, 32, 33, 31, 34, 35]; // in percentage
                drawLineChart('profitMarginLineChart', profitLabels, profitData, '', getCssVariable('--success-green'));
            }

            // Initial chart render if Dashboard is the first section
            if (document.getElementById('dashboard').classList.contains('active')) {
                renderCharts();
            }

            // Re-render charts on window resize to make them responsive
            window.addEventListener('resize', () => {
                // Only render charts for the active section to avoid unnecessary work
                if (document.getElementById('dashboard').classList.contains('active')) {
                    renderCharts();
                }
                if (document.getElementById('analytics').classList.contains('active')) {
                    renderProfitMarginLineChart();
                }
            });


            // --- Form Submissions ---
            const settingsForm = document.getElementById('settingsForm');
            const settingsFeedback = document.getElementById('settingsFeedback');

            settingsForm.addEventListener('submit', (e) => {
                e.preventDefault();
                settingsFeedback.textContent = 'Settings saved successfully!';
                settingsFeedback.className = 'feedback-message success';
                settingsFeedback.style.display = 'block';
                setTimeout(() => {
                    settingsFeedback.style.display = 'none';
                }, 3000);
                console.log('Settings saved:', {
                    email: document.getElementById('email').value,
                    password: document.getElementById('password').value,
                    currency: document.getElementById('currency').value,
                    notifications: document.getElementById('notifications').checked
                });
            });

            const contactForm = document.getElementById('contactForm');
            const contactFeedback = document.getElementById('contactFeedback');

            contactForm.addEventListener('submit', (e) => {
                e.preventDefault();
                contactFeedback.textContent = 'Your message has been sent. We will get back to you shortly!';
                contactFeedback.className = 'feedback-message success';
                contactFeedback.style.display = 'block';
                setTimeout(() => {
                    contactFeedback.style.display = 'none';
                    contactForm.reset(); // Clear form fields
                }, 3000);
                console.log('Contact form submitted:', {
                    name: document.getElementById('contactName').value,
                    email: document.getElementById('contactEmail').value,
                    subject: document.getElementById('contactSubject').value,
                    message: document.getElementById('contactMessage').value
                });
            });
        });
    </script>

    <script>
    // Prevent all links from navigating away
    document.addEventListener('DOMContentLoaded', function() {
        // Handle all link clicks
        document.addEventListener('click', function(e) {
            if (e.target.tagName === 'A' || e.target.closest('a')) {
                e.preventDefault();
                const link = e.target.tagName === 'A' ? e.target : e.target.closest('a');
                const href = link.getAttribute('href');
                
                // Handle anchor links (e.g., #section)
                if (href && href.startsWith('#')) {
                    const targetId = href.substring(1);
                    const targetElement = document.getElementById(targetId);
                    if (targetElement) {
                        targetElement.scrollIntoView({ behavior: 'smooth' });
                    }
                    
                    // Handle tab switching if using tabs
                    handleTabSwitch(targetId);
                }
                
                // Log navigation attempt for debugging
                console.log('Navigation prevented:', href);
            }
        });
        
        // Function to handle tab switching
        function handleTabSwitch(tabId) {
            // Hide all tab contents
            const allTabs = document.querySelectorAll('.tab-content, .tab-pane, [role="tabpanel"]');
            allTabs.forEach(tab => {
                tab.style.display = 'none';
                tab.classList.remove('active', 'show');
            });
            
            // Show selected tab
            const selectedTab = document.getElementById(tabId);
            if (selectedTab) {
                selectedTab.style.display = 'block';
                selectedTab.classList.add('active', 'show');
            }
            
            // Update active tab button
            const allTabButtons = document.querySelectorAll('.tab-button, .nav-link, [role="tab"]');
            allTabButtons.forEach(btn => {
                btn.classList.remove('active');
            });
            
            const activeButton = document.querySelector(`[href="#${tabId}"], [data-target="#${tabId}"]`);
            if (activeButton) {
                activeButton.classList.add('active');
            }
        }
        
        // Prevent form submissions from navigating
        document.addEventListener('submit', function(e) {
            e.preventDefault();
            console.log('Form submission prevented');
            // You can add form handling logic here
            alert('Form submitted! (This is a prototype - no actual submission)');
        });
    });
    </script>
    
</body>
</html>